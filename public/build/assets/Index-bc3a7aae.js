import{u as D,r as l,R as e,H as F}from"./app-7d2671bd.js";import{L as K,a as h}from"./Web-45556dc5.js";import{f as s}from"./FormatPrice-60f3027e.js";import $ from"./StoreCheckout-2a58797c.js";import"./sweetalert2.all-0cf0fb55.js";function J(){const{provinces:v,dataCarts:r,errors:c}=D().props,[p,b]=l.useState(""),[n,g]=l.useState(""),[N,f]=l.useState([]),[k,w]=l.useState(!1),[y,C]=l.useState(""),[S,m]=l.useState(!1),[P,o]=l.useState(!1),[I,x]=l.useState([]),[_,O]=l.useState(0),[i,L]=l.useState(0),[d,R]=l.useState(0),[u,T]=l.useState(""),B=async t=>{b(t),h.get(`/checkouts/cities?province_id=${t}`).then(a=>{f(a.data)})},j=t=>{g(t),w(!0)},E=t=>{m(!0),o(!1),C(t.target.value),h.post("/checkouts/checkOngkir",{destination:n,weight:r.weight,courier:t.target.value}).then(a=>{x(a.data),m(!1),o(!0)})},A=t=>{let a=t.target.value.split("|");L(a[0]),O(a[1]),R(parseInt(r.price)+parseInt(a[0]))};return e.createElement(e.Fragment,null,e.createElement(F,null,e.createElement("title",null,"Pembayaran - Nide Store - Tempat Belanja Online ")),e.createElement(K,null,e.createElement("div",{className:"container mt-80 mb-5"},e.createElement("div",{className:"fade-in"},e.createElement("div",{className:"row justify-content-center"},e.createElement("div",{className:"col-md-8"},e.createElement("div",{className:"card border-0 rounded-3 shadow-sm"},e.createElement("div",{className:"card-header"},e.createElement("i",{className:"fa fa-shopping-cart"})," ","Informasi Belanja"),e.createElement("div",{className:"card-body"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"mb-2 fw-bold"},"Provinsi"),e.createElement("select",{className:"form-select",onChange:t=>B(t.target.value)},e.createElement("option",{value:""},"-- Pilih Provinsi --"),v.map((t,a)=>e.createElement("option",{key:a,value:t.id},t.name)))),e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"mb-2 fw-bold"},"Kota"),e.createElement("select",{className:"form-select",onChange:t=>j(t.target.value)},e.createElement("option",{value:""},"-- Pilih Kota --"),N.map((t,a)=>e.createElement("option",{key:a,value:t.id},t.name)))),k&&e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"mb-2 fw-bold"},"Ekspedisi Pengiriman"),e.createElement("br",null),e.createElement("div",{className:"form-check"},e.createElement("label",{className:"form-check-label font-weight-bold me-5",htmlFor:"ongkos_kirim_tiki"},e.createElement("input",{className:"form-check-input select-courier",name:"courier",type:"radio",id:"ongkos_kirim_tiki",value:"tiki",onChange:E}),"TIKI"),e.createElement("label",{className:"form-check-label font-weight-bold",htmlFor:"ongkos_kirim_pos"},e.createElement("input",{className:"form-check-input select-courier",name:"courier",type:"radio",id:"ongkos_kirim_pos",value:"pos",onChange:E}),"POS"))),S&&e.createElement("div",{className:"justify-content-center mb-3 text-center"},e.createElement("div",{className:"spinner-border text-success",role:"status"},e.createElement("span",{className:"visually-hidden"},"Loading...")),e.createElement("h6",{className:"mt-2"},"Loading...")),P&&e.createElement("div",{className:"mb-3","v-if":"courier.showService"},e.createElement("hr",null),e.createElement("label",{className:"fw-bold"},"Biaya Pengiriman"),e.createElement("br",null),e.createElement("div",{className:"form-check form-check-inline mt-2"},I.map((t,a)=>e.createElement("label",{className:"form-check-label font-weight-normal me-5",htmlFor:t.service,key:a},e.createElement("input",{className:"form-check-input",id:t.serrvice,type:"radio",name:"cost",value:`${t.cost[0].value}|${t.service}`,onChange:A}),t.service," ","- Rp."," ",s(t.cost[0].value))))),e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"mb-2 fw-bold"},"Alamat"),e.createElement("textarea",{className:"form-control",value:u,onChange:t=>T(t.target.value),rows:"3",placeholder:"Alamat lengkap"})),c.address&&e.createElement("div",{className:"alert alert-danger custom-alert"},c.address))),e.createElement("div",{className:"card border-0 rounded-3 shadow-sm mt-3 mb-3"},e.createElement("div",{className:"card-body"},e.createElement("div",{className:"table-responsive"},e.createElement("table",{className:"table mb-0 mt-0"},e.createElement("tbody",null,e.createElement("tr",null,e.createElement("td",{style:{width:"25%"}},"Total Pesanan"),e.createElement("td",{style:{width:"1%"}},":"),e.createElement("td",null,e.createElement("strong",null,"Rp."," ",s(r.price)))),e.createElement("tr",null,e.createElement("td",{style:{width:"25%"}},"Biaya Pengiriman"),e.createElement("td",{style:{width:"1%"}},":"),e.createElement("td",null,e.createElement("strong",null,"Rp."," ",s(i)))),e.createElement("tr",null,e.createElement("td",{style:{width:"25%"}},"Total"),e.createElement("td",{style:{width:"1%"}},":"),e.createElement("td",null,e.createElement("strong",null,"Rp."," ",s(d))))))))),e.createElement($,{provinceID:p,cityID:n,courierName:y,courierService:_,courierCost:i,weight:r.weight,grandTotal:d,address:u})))))))}export{J as default};
